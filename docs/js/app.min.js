var adapted_json_data=[],filtered_json_data=[],origin=[],companies=[],categories=[],tags=[],languages=[],filters_applied=!1,getJson=new Promise(function(a){'use strict';fetch('problems_list.json',{mode:'no-cors'}).then(c=>c.json()).then(c=>a(c))});function createTable(a){'use strict';return new Promise(function(b){var d=$.map(Object.getOwnPropertyNames(a[0]),function(e){return{name:e,title:e}});createFooTable(d,a).then(()=>b('Success!'))})}function adaptJsonData(a){'use strict';return new Promise(function(b){a.forEach(function(d){if('Problem'in d&&'Link'in d){var e=d.Problem,f='https://github.com/manastalukdar/learning_computer-science/tree/master/'+d.Link;d.Problem='<a href="'+f+'" target="_blank">'+e+'</a>',delete d.Link}if('Origin'in d){var g=d.Origin;-1===origin.indexOf(g)&&origin.push(g)}if('Companies'in d){var h=d.Companies;h.forEach(function(i){-1===companies.indexOf(i)&&companies.push(i)})}'Categories'in d&&(h=d.Categories,h.forEach(function(i){-1===categories.indexOf(i)&&categories.push(i)})),'Tags'in d&&(h=d.Tags,h.forEach(function(i){-1===tags.indexOf(i)&&tags.push(i)})),'Languages'in d&&(h=d.Languages,h.forEach(function(i){-1===languages.indexOf(i)&&languages.push(i)}))}),adapted_json_data=a,b(adapted_json_data)})}function createFooTable(a,b){'use strict';return new Promise(function(c){$('.table').footable({columns:a,rows:b}),c('Success!')})}function populateFiltersDropdown(){'use strict';return new Promise(function(a){var c=origin.map(function(e){return{item:e}});$('#input-origin').selectize({delimiter:',',persist:!1,options:c,labelField:'item',valueField:'item',searchField:'item',sortField:'item'}),c=companies.map(function(e){return{item:e}}),$('#input-companies').selectize({delimiter:',',persist:!1,options:c,labelField:'item',valueField:'item',searchField:'item',sortField:'item'}),c=categories.map(function(e){return{item:e}}),$('#input-categories').selectize({delimiter:',',persist:!1,options:c,labelField:'item',valueField:'item',searchField:'item',sortField:'item'}),c=tags.map(function(e){return{item:e}}),$('#input-tags').selectize({delimiter:',',persist:!1,options:c,labelField:'item',valueField:'item',searchField:'item',sortField:'item'}),c=languages.map(function(e){return{item:e}}),$('#input-languages').selectize({delimiter:',',persist:!1,options:c,labelField:'item',valueField:'item',searchField:'item',sortField:'item'});c=['and','or'].map(function(e){return{item:e}}),$('#input-and-or-origin-companies').selectize({delimiter:',',persist:!1,options:c,labelField:'item',valueField:'item',searchField:'item',sortField:'item',maxItems:1}),$('#input-and-or-companies-categories').selectize({delimiter:',',persist:!1,options:c,labelField:'item',valueField:'item',searchField:'item',sortField:'item',maxItems:1}),$('#input-and-or-categories-tags').selectize({delimiter:',',persist:!1,options:c,labelField:'item',valueField:'item',searchField:'item',sortField:'item',maxItems:1}),$('#input-and-or-tags-languages').selectize({delimiter:',',persist:!1,options:c,labelField:'item',valueField:'item',searchField:'item',sortField:'item',maxItems:1}),a('Success!')})}function getFilteredJson(){'use strict';return new Promise(function(a){filtered_json_data=[];var c=$('#input-origin').val().split(','),d=$('#input-companies').val().split(','),e=$('#input-categories').val().split(','),f=$('#input-tags').val().split(','),g=$('#input-languages').val().split(',');1===c.length&&''===c[0]&&(c=[]),1===d.length&&''===d[0]&&(d=[]),1===e.length&&''===e[0]&&(e=[]),1===f.length&&''===f[0]&&(f=[]),1===g.length&&''===g[0]&&(g=[]);var h=$('#input-and-or-origin-companies').val(),i=$('#input-and-or-companies-categories').val(),j=$('#input-and-or-categories-tags').val(),k=$('#input-and-or-tags-languages').val(),l=_.filter(adapted_json_data,function(r){return isItemInArray(c,r.Origin)}),m=_.filter(adapted_json_data,function(r){return isFilterSatisfied(d,r.Companies)}),n=_.filter(adapted_json_data,function(r){return isFilterSatisfied(e,r.Categories)}),o=_.filter(adapted_json_data,function(r){return isFilterSatisfied(f,r.Tags)}),p=_.filter(adapted_json_data,function(r){return isFilterSatisfied(g,r.Languages)}),q=[];'and'===h?q=_.intersectionBy(l,m,'Number'):'or'===h&&(q=_.unionBy(l,m,'Number')),'and'===i?q=_.intersectionBy(q,n,'Number'):'or'===i&&(q=_.unionBy(q,n,'Number')),'and'===j?q=_.intersectionBy(q,o,'Number'):'or'===j&&(q=_.unionBy(q,o,'Number')),'and'===k?q=_.intersectionBy(q,p,'Number'):'or'===k&&(q=_.unionBy(q,p,'Number')),0===q.length&&(q=[{Number:'',Problem:'',Origin:'',Link:'',Companies:[],Categories:[],Tags:[],Languages:[]}]),filtered_json_data=q,a(filtered_json_data)})}function applyFilters(){'use strict';getFilteredJson().then(a=>createTable(a)).then(function(){filters_applied=!0})}function clearFilters(){'use strict';filters_applied&&createTable(adapted_json_data).then(function(){$('#input-origin')[0].selectize.clear(),$('#input-companies')[0].selectize.clear(),$('#input-categories')[0].selectize.clear(),$('#input-tags')[0].selectize.clear(),$('#input-languages')[0].selectize.clear()}).then(function(){filtered_json_data=[],filters_applied=!1})}function isItemInArray(a,b){'use strict';return!(0!==a.length)||-1!==a.indexOf(b)}function isFilterSatisfied(a,b){'use strict';if(0===a.length&&0===b.length)return!0;if(0===a.length&&0!==b.length)return!0;if(0!==a.length&&0===b.length)return!1;if(0!==a.length&&0!==b.length){var c=0<_.intersection(b,a).length;return c}}function arrayContainsArray(a,b){'use strict';return b.every(function(c){return 0<=a.indexOf(c)})}jQuery(function(){'use strict';getJson.then(b=>adaptJsonData(b)).then(b=>createTable(b)).then(function(){populateFiltersDropdown()})});function sleep(a){'use strict';return new Promise(b=>setTimeout(b,a))}