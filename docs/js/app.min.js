var global_adapted_json_data=[],global_filtered_json_data=[],global_problem_id_string="Id",global_problem_name_string="Name",global_problem_link_string="Link",global_problem_origin_string="Origin",global_problem_companies_string="Companies",global_problem_categories_string="Categories",global_problem_tags_string="Tags",global_problem_languages_string="Languages",global_origin=[],global_companies=[],global_categories=[],global_tags=[],global_languages=[],global_filters_applied=!1,getJson=new Promise(function(a){"use strict";fetch("problems_list.json",{mode:"no-cors"}).then(c=>c.json()).then(c=>a(c))});function createFooTable(a,b){"use strict";return new Promise(function(c){$(".table").footable({columns:a,rows:b}),c("Success!")})}function updateRetrievedCount(a){"use strict";$("#retrieved_count").html("Retrieved Count: "+a)}function stringifyNestedJsonArrays(a){"use strict";var b=JSON.parse(JSON.stringify(a));return new Promise(function(c){b.forEach(function(e){var f;e.hasOwnProperty(global_problem_companies_string)&&""!==e[global_problem_companies_string]&&(f=e.Companies.join(", "),e.Companies=f),e.hasOwnProperty(global_problem_categories_string)&&""!==e[global_problem_categories_string]&&(f=e.Categories.join(", "),e.Categories=f),e.hasOwnProperty(global_problem_tags_string)&&""!==e[global_problem_tags_string]&&(f=e.Tags.join(", "),e.Tags=f),e.hasOwnProperty(global_problem_languages_string)&&""!==e[global_problem_languages_string]&&(f=e.Languages.join(", "),e.Languages=f)}),c(b)})}function createTable(a){"use strict";return new Promise(function(b){var d=$.map(Object.getOwnPropertyNames(a[0]),function(f){return f===global_problem_id_string?{name:f,title:f,breakpoints:"xs sm",type:"number",style:{width:80,maxWidth:80}}:f===global_problem_name_string||f===global_problem_tags_string?{name:f,title:f}:f===global_problem_categories_string?{name:f,title:f,breakpoints:"xs sm"}:{name:f,title:f,breakpoints:"xs sm"}}),e;e=1===a.length&&""===a[0].Name?0:a.length,stringifyNestedJsonArrays(a).then(f=>createFooTable(d,f)).then(updateRetrievedCount(e)).then(b("Success!"))})}function adaptJsonData(a){"use strict";return new Promise(function(b){a.forEach(function(d){if(d.hasOwnProperty(global_problem_name_string)&&d.hasOwnProperty(global_problem_link_string)){var e=d.Name,f="https://github.com/manastalukdar/learning_computer-science/tree/master/"+d.Link;d.Name="<a href=\""+f+"\" target=\"_blank\">"+e+"</a>",delete d.Link}if(d.hasOwnProperty(global_problem_origin_string)){var g=d.Origin;-1===global_origin.indexOf(g)&&global_origin.push(g)}var h;d.hasOwnProperty(global_problem_companies_string)&&(h=d.Companies,h.forEach(function(i){-1===global_companies.indexOf(i)&&global_companies.push(i)})),d.hasOwnProperty(global_problem_categories_string)&&(h=d.Categories,h.forEach(function(i){-1===global_categories.indexOf(i)&&global_categories.push(i)})),d.hasOwnProperty(global_problem_tags_string)&&(h=d.Tags,h.forEach(function(i){-1===global_tags.indexOf(i)&&global_tags.push(i)})),d.hasOwnProperty(global_problem_languages_string)&&(h=d.Languages,h.forEach(function(i){-1===global_languages.indexOf(i)&&global_languages.push(i)}))}),global_adapted_json_data=a,b(a)})}function populateFiltersDropdown(){"use strict";return new Promise(function(a){var c=global_origin.map(function(e){return{item:e}});$("#input-origin").selectize({delimiter:",",persist:!1,options:c,labelField:"item",valueField:"item",searchField:"item",sortField:"item"}),c=global_companies.map(function(e){return{item:e}}),$("#input-companies").selectize({delimiter:",",persist:!1,options:c,labelField:"item",valueField:"item",searchField:"item",sortField:"item"}),c=global_categories.map(function(e){return{item:e}}),$("#input-categories").selectize({delimiter:",",persist:!1,options:c,labelField:"item",valueField:"item",searchField:"item",sortField:"item"}),c=global_tags.map(function(e){return{item:e}}),$("#input-tags").selectize({delimiter:",",persist:!1,options:c,labelField:"item",valueField:"item",searchField:"item",sortField:"item"}),c=global_languages.map(function(e){return{item:e}}),$("#input-languages").selectize({delimiter:",",persist:!1,options:c,labelField:"item",valueField:"item",searchField:"item",sortField:"item"});c=["and","or"].map(function(e){return{item:e}}),$("#input-and-or-origin-companies").selectize({delimiter:",",persist:!1,options:c,labelField:"item",valueField:"item",searchField:"item",sortField:"item",maxItems:1}),$("#input-and-or-companies-categories").selectize({delimiter:",",persist:!1,options:c,labelField:"item",valueField:"item",searchField:"item",sortField:"item",maxItems:1}),$("#input-and-or-categories-tags").selectize({delimiter:",",persist:!1,options:c,labelField:"item",valueField:"item",searchField:"item",sortField:"item",maxItems:1}),$("#input-and-or-tags-languages").selectize({delimiter:",",persist:!1,options:c,labelField:"item",valueField:"item",searchField:"item",sortField:"item",maxItems:1}),a("Success!")})}function isItemInArray(a,b){"use strict";return!(0!==a.length)||-1!==a.indexOf(b)}function isFilterSatisfied(a,b){"use strict";if(0===a.length&&0===b.length)return!0;if(0===a.length&&0!==b.length)return!0;if(0!==a.length&&0===b.length)return!1;if(0!==a.length&&0!==b.length){var c=0<_.intersection(b,a).length;return c}}function getFilteredJson(){"use strict";return new Promise(function(a){global_filtered_json_data=[];var c=$("#input-origin").val().split(","),d=$("#input-companies").val().split(","),e=$("#input-categories").val().split(","),f=$("#input-tags").val().split(","),g=$("#input-languages").val().split(",");1===c.length&&""===c[0]&&(c=[]),1===d.length&&""===d[0]&&(d=[]),1===e.length&&""===e[0]&&(e=[]),1===f.length&&""===f[0]&&(f=[]),1===g.length&&""===g[0]&&(g=[]);var h=$("#input-and-or-origin-companies").val(),i=$("#input-and-or-companies-categories").val(),j=$("#input-and-or-categories-tags").val(),k=$("#input-and-or-tags-languages").val(),l=_.filter(global_adapted_json_data,function(s){return isItemInArray(c,s.Origin)}),m=_.filter(global_adapted_json_data,function(s){return isFilterSatisfied(d,s.Companies)}),n=_.filter(global_adapted_json_data,function(s){return isFilterSatisfied(e,s.Categories)}),o=_.filter(global_adapted_json_data,function(s){return isFilterSatisfied(f,s.Tags)}),p=_.filter(global_adapted_json_data,function(s){return isFilterSatisfied(g,s.Languages)}),q=[];if("and"===h?q=_.intersectionBy(l,m,"Id"):"or"===h&&(q=_.unionBy(l,m,"Id")),"and"===i?q=_.intersectionBy(q,n,"Id"):"or"===i&&(q=_.unionBy(q,n,"Id")),"and"===j?q=_.intersectionBy(q,o,"Id"):"or"===j&&(q=_.unionBy(q,o,"Id")),"and"===k?q=_.intersectionBy(q,p,"Id"):"or"===k&&(q=_.unionBy(q,p,"Id")),0===q.length){var r={};r[global_problem_id_string]="",r[global_problem_name_string]="",r[global_problem_origin_string]="",r[global_problem_link_string]="",r[global_problem_companies_string]="",r[global_problem_categories_string]="",r[global_problem_tags_string]="",r[global_problem_languages_string]="",q.push(r)}global_filtered_json_data=q,a(global_filtered_json_data)})}function applyFilters(){"use strict";getFilteredJson().then(a=>createTable(a)).then(function(){global_filters_applied=!0})}function clearFilters(){"use strict";global_filters_applied&&createTable(global_adapted_json_data).then(function(){$("#input-origin")[0].selectize.clear(),$("#input-companies")[0].selectize.clear(),$("#input-categories")[0].selectize.clear(),$("#input-tags")[0].selectize.clear(),$("#input-languages")[0].selectize.clear()}).then(function(){global_filtered_json_data=[],global_filters_applied=!1})}function arrayContainsArray(a,b){"use strict";return b.every(function(c){return 0<=a.indexOf(c)})}jQuery(function(){"use strict";getJson.then(a=>adaptJsonData(a)).then(a=>createTable(a)).then(function(){populateFiltersDropdown()})});function sleep(a){"use strict";return new Promise(b=>setTimeout(b,a))}